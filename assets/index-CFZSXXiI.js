import{j as e,u as o,s as $,a as y,b as R,c as x,d as M,r as S,g as w,e as O,t as B,f as k,h as j,i as d,k as z,l as C,m as D,n as H,o as P,p as J,q as Q,v as U,R as W,w as I,x as G}from"./index-CS2yEBzf.js";const Z="_header_1gwzu_1",K="_title_1gwzu_1",_={header:Z,title:K},V="_container_kp52s_1",X="_title_kp52s_1",Y="_tags_kp52s_1",ee="_tag_kp52s_1",b={container:V,title:X,tags:Y,tag:ee},se="_button_1cnzt_1",te={button:se},ae=t=>{const{type:a,children:l,onClick:s}={...t};return e.jsx("button",{onClick:s,className:te.button,type:a,children:l})},N=()=>{const t=o($),a=o(y),l=o(R),s=x(),r=n=>{s(O(n)),s(B(n)),s(k())};return e.jsxs("div",{className:b.container,children:[e.jsx("h2",{className:b.title,children:"Выбранные фильтры:"}),e.jsx("ul",{className:b.tags,children:t.map(n=>n.options.map(c=>e.jsxs("li",{className:b.tag,onClick:()=>r(c),children:[e.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.67824 4.99992L9.85953 0.818698C10.0468 0.631402 10.0468 0.327767 9.85953 0.140471C9.67223 -0.0468238 9.36859 -0.0468238 9.18129 0.140471L5 4.32169L0.818711 0.141111C0.631412 -0.0461846 0.327772 -0.0461846 0.140474 0.141111C-0.0468245 0.328406 -0.0468245 0.632042 0.140474 0.819337L4.32176 5.00056L0.141113 9.18114C-0.0461853 9.36844 -0.0461853 9.67207 0.141113 9.85937C0.235082 9.9527 0.357177 10 0.479912 10C0.602646 10 0.725381 9.95334 0.818711 9.85937L5 5.67815L9.18129 9.85937C9.27526 9.9527 9.39735 10 9.52009 10C9.64282 10 9.76556 9.95334 9.85889 9.85937C10.0462 9.67207 10.0462 9.36844 9.85889 9.18114L5.67824 4.99992Z",fill:"#292929",className:"dark:fill-main-dark transition-colors duration-500 ease-in-out"})}),e.jsx("p",{children:c.label})]},c.value)))}),e.jsx(ae,{onClick:()=>{s(M()),s(S()),l||s(w({query:a,page:1}))},type:"button",children:"Найти"})]})},le="_container_1chln_1",ne={container:le},ce=[{label:"Должность",query:"Position",options:[{value:"Frontend",label:"Frontend-разработчик"},{value:"Backend",label:"Backend-разработчик"},{value:"Analyst",label:"Аналитик"},{value:"Manager",label:"Менеджер"},{value:"Designer",label:"Дизайнер"}]},{label:"Пол",query:"Gender",options:[{value:"Male",label:"Мужчина"},{value:"Female",label:"Женщина"}]},{label:"Стек технологий",query:"Stack",options:[{value:"CSharp",label:"C#"},{value:"React",label:"React"},{value:"Java",label:"Java"},{value:"PHP",label:"PHP"},{value:"Figma",label:"Figma"},{value:"Word",label:"Word"}]}],oe="_tooltipContainer_1obre_1",re="_tooltipItem_1obre_1",ie="_label_1obre_1",f={tooltipContainer:oe,tooltipItem:re,label:ie},de="_checkbox_1sriy_1",he={checkbox:de},ue=t=>{const{isActive:a}={...t};return e.jsx("div",{className:j(he.checkbox,a?"bg-accent":"bg-transparent"),children:a&&e.jsxs("svg",{width:"13",height:"9",viewBox:"0 0 13 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("line",{y1:"-0.5",x2:"8.22439",y2:"-0.5",transform:"matrix(0.729537 0.683941 -0.595228 0.803557 0 4.375)",stroke:"white"}),e.jsx("line",{y1:"-0.5",x2:"11.4018",y2:"-0.5",transform:"matrix(0.613941 -0.789352 0.712652 0.701517 6 10)",stroke:"white"})]})})},xe=t=>{var h;const{value:a,label:l,query:s}={...t},n=((h=o($).find(u=>u.query===s))==null?void 0:h.options.some(u=>u.value===a))||!1,c=d.useRef(null),i=x(),m=()=>{i(B({value:a,label:l})),i(k())};return d.useEffect(()=>{},[n,l]),e.jsxs("li",{ref:c,className:f.tooltipItem,id:t.value,onClick:m,children:[e.jsx("label",{className:f.label,htmlFor:a,children:l}),e.jsx(ue,{isActive:n})]},a)},me=t=>{const{options:a,query:l}={...t};return e.jsx("ul",{className:f.tooltipContainer,children:a.map(s=>e.jsx(xe,{...s,query:l},s.value))},`Filter-${l}`)},pe="_container_1qw0t_1",be="_label_1qw0t_1",L={container:pe,label:be},ve=t=>{const{label:a,isActive:l,onClick:s}={...t};return e.jsxs("div",{className:L.container,onClick:s,children:[e.jsx("p",{className:j(L.label,l&&"!text-accent font-medium"),children:a}),e.jsx("svg",{className:j(l&&"rotate-180","mid:w-[16px] mid:h-[7px]"),width:"11",height:"6",viewBox:window.screen.width<320?"0 0 11 6":"0 0 16 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M0.5 0.5L4.61616 5.09317C5.10227 5.63561 5.89773 5.63561 6.38384 5.09317L10.5 0.5",stroke:"#155DA4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})})]})},E=()=>{const t=x(),a=o(z),l=d.useRef(null);return d.useEffect(()=>{const s=r=>{l.current&&!l.current.contains(r.target)&&t(C(""))};return a&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[a,t]),e.jsx("ul",{className:ne.container,ref:l,children:ce.map(s=>e.jsxs("li",{children:[e.jsx(ve,{onClick:()=>t(C(s.query)),isActive:a===s.query,label:s.label}),a===s.query&&e.jsx(me,{options:s.options,query:s.query})]},s.query))})},je="_input_11w1h_1",ge={input:je},F=()=>{const t=x(),a=o(D);return e.jsx("input",{onChange:l=>{t(H(l.target.value)),t(k())},value:a,className:ge.input,id:"searchbar",type:"text",placeholder:"Поиск"})},_e=()=>e.jsx("header",{className:_.header,children:window.screen.width>=1920?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("h1",{className:_.title,children:"Список сотрудников"}),e.jsx(E,{})]}),e.jsx(F,{}),e.jsx(N,{})]}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:_.title,children:"Список сотрудников"}),e.jsx(F,{}),e.jsx(E,{}),e.jsx(N,{})]})}),fe=t=>e.jsx("td",{className:j("text-main dark:text-main-dark text-xs py-3 sm:min-w-[128px]","first:min-w-[80px] first-w-[80px] first:px-0","transition-colors duration-500 ease-in-out","lg:text-xl  lg:py-7 "),children:t.label}),ye="_table_1jf3v_1",we="_thead_1jf3v_1",ke="_headLabels_1jf3v_1",Ce="_hoverBg_1jf3v_1",v={table:ye,thead:we,headLabels:ke,hoverBg:Ce},q=t=>{const{isLast:a,employee:l,id:s}={...t},r=P(),n=o(y),c=o(J),i=o(R),m=x(),h=d.useRef(null),u=o(Q),A=()=>{r("/"+W.employees+"/"+s)},T=d.useCallback(p=>{h.current&&h.current.disconnect(),h.current=new IntersectionObserver(g=>{g[0].isIntersecting&&n&&!c&&!i&&(m(U()),m(w({query:n,page:u+1})))}),p&&h.current.observe(p)},[m,n,c,i,u]);return e.jsx("tr",{onClick:A,className:v.hoverBg,ref:a?T:void 0,children:Object.values(l).map((p,g)=>e.jsx(fe,{label:p},g))},s)},Ne=()=>{const t=o(I);return t.length?e.jsxs("table",{className:v.table,children:[e.jsx("thead",{className:v.thead,children:e.jsxs("tr",{className:v.headLabels,children:[e.jsx("th",{className:"text-start  lg:pb-7",children:"ФИО"}),e.jsx("th",{className:"text-start  lg:pb-7",children:"Должность"}),e.jsx("th",{className:"text-start  lg:pb-7",children:"Телефон"}),e.jsx("th",{className:"text-start  lg:pb-7",children:"Дата рождения"})]})}),e.jsx("tbody",{children:t.map((a,l)=>{const{id:s,birthdate:r,name:n,phone:c,position:i}={...a};return l===t.length-1?e.jsx(q,{isLast:!0,employee:{name:n,position:i,phone:c,birthdate:r},id:s},a.id):e.jsx(q,{employee:{name:n,position:i,phone:c,birthdate:r},id:s},a.id)})})]}):e.jsx("div",{className:"text-center my-auto text-3xl dark:text-main-dark",children:"Сотрудники не найдены"})},Ee=()=>{const t=G(),a=P(),l=o(y);d.useEffect(()=>{const n=l?`?${l}`:"",c=t.pathname+n;c!==t.pathname+t.search&&a(c,{replace:!0})},[l,t.pathname,a,t.search]);const s=o(I),r=x();return d.useEffect(()=>{s.length||(r(w({query:l,page:1})),r(S()))},[]),e.jsxs("section",{children:[e.jsx(_e,{}),e.jsx(Ne,{})]})};export{Ee as default};

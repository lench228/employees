import{j as e,u as c,s as $,a as f,b as R,c as x,d as T,r as S,g as y,e as M,t as B,f as k,h as _,i as h,k as O,l as C,m as z,n as D,o as P,p as W,q as H,v as J,R as Q,w as U,x as G}from"./index-JP6N4PBm.js";const Z="_header_1gwzu_1",K="_title_1gwzu_1",j={header:Z,title:K},V="_container_kp52s_1",X="_title_kp52s_1",Y="_tags_kp52s_1",ee="_tag_kp52s_1",b={container:V,title:X,tags:Y,tag:ee},se="_button_1cnzt_1",te={button:se},le=t=>{const{type:l,children:a,onClick:s}={...t};return e.jsx("button",{onClick:s,className:te.button,type:l,children:a})},N=()=>{const t=c($),l=c(f),a=c(R),s=x(),o=n=>{s(M(n)),s(B(n)),s(k())};return e.jsxs("div",{className:b.container,children:[e.jsx("h2",{className:b.title,children:"Выбранные фильтры:"}),e.jsx("ul",{className:b.tags,children:t.map(n=>n.options.map(r=>e.jsxs("li",{className:b.tag,onClick:()=>o(r),children:[e.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.67824 4.99992L9.85953 0.818698C10.0468 0.631402 10.0468 0.327767 9.85953 0.140471C9.67223 -0.0468238 9.36859 -0.0468238 9.18129 0.140471L5 4.32169L0.818711 0.141111C0.631412 -0.0461846 0.327772 -0.0461846 0.140474 0.141111C-0.0468245 0.328406 -0.0468245 0.632042 0.140474 0.819337L4.32176 5.00056L0.141113 9.18114C-0.0461853 9.36844 -0.0461853 9.67207 0.141113 9.85937C0.235082 9.9527 0.357177 10 0.479912 10C0.602646 10 0.725381 9.95334 0.818711 9.85937L5 5.67815L9.18129 9.85937C9.27526 9.9527 9.39735 10 9.52009 10C9.64282 10 9.76556 9.95334 9.85889 9.85937C10.0462 9.67207 10.0462 9.36844 9.85889 9.18114L5.67824 4.99992Z",fill:"#292929",className:"dark:fill-main-dark transition-colors duration-500 ease-in-out"})}),e.jsx("p",{children:r.label})]},r.value)))}),e.jsx(le,{onClick:()=>{s(T()),s(S()),a||s(y({query:l,page:1}))},type:"button",children:"Найти"})]})},ae="_container_1chln_1",ne={container:ae},ce=[{label:"Должность",query:"Position",options:[{value:"Frontend",label:"Frontend-разработчик"},{value:"Backend",label:"Backend-разработчик"},{value:"Analyst",label:"Аналитик"},{value:"Manager",label:"Менеджер"},{value:"Designer",label:"Дизайнер"}]},{label:"Пол",query:"Gender",options:[{value:"Male",label:"Мужчина"},{value:"Female",label:"Женщина"}]},{label:"Стек технологий",query:"Stack",options:[{value:"CSharp",label:"C#"},{value:"React",label:"React"},{value:"Java",label:"Java"},{value:"PHP",label:"PHP"},{value:"Figma",label:"Figma"},{value:"Word",label:"Word"}]}],oe="_tooltipContainer_1obre_1",re="_tooltipItem_1obre_1",ie="_label_1obre_1",w={tooltipContainer:oe,tooltipItem:re,label:ie},he="_checkbox_1sriy_1",de={checkbox:he},ue=t=>{const{isActive:l}={...t};return e.jsx("div",{className:_(de.checkbox,l?"bg-accent":"bg-transparent"),children:l&&e.jsxs("svg",{width:"13",height:"9",viewBox:"0 0 13 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("line",{y1:"-0.5",x2:"8.22439",y2:"-0.5",transform:"matrix(0.729537 0.683941 -0.595228 0.803557 0 4.375)",stroke:"white"}),e.jsx("line",{y1:"-0.5",x2:"11.4018",y2:"-0.5",transform:"matrix(0.613941 -0.789352 0.712652 0.701517 6 10)",stroke:"white"})]})})},xe=t=>{var d;const{value:l,label:a,query:s}={...t},n=((d=c($).find(u=>u.query===s))==null?void 0:d.options.some(u=>u.value===l))||!1,r=h.useRef(null),i=x(),p=()=>{i(B({value:l,label:a})),i(k())};return h.useEffect(()=>{},[n,a]),e.jsxs("li",{ref:r,className:w.tooltipItem,id:t.value,onClick:p,children:[e.jsx("label",{className:w.label,htmlFor:l,children:a}),e.jsx(ue,{isActive:n})]},l)},pe=t=>{const{options:l,query:a}={...t};return e.jsx("ul",{className:w.tooltipContainer,children:l.map(s=>e.jsx(xe,{...s,query:a},s.value))},a)},me="_container_1qw0t_1",be="_label_1qw0t_1",L={container:me,label:be},ge=t=>{const{label:l,isActive:a,onClick:s}={...t};return e.jsxs("div",{className:L.container,onClick:s,children:[e.jsx("p",{className:_(L.label,a&&"!text-accent font-medium"),children:l}),e.jsx("svg",{className:_(!a&&"rotate-180","lg:w-[20px] lg:h-[9px] w-[10px] h-[5px]"),width:"20",height:"9",viewBox:"0 0 20 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1.67149 8.04873L8.52773 1.52873C9.33744 0.758733 10.6624 0.758733 11.4721 1.52873L18.3284 8.04873",stroke:"#155DA4",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})})]})},E=()=>{const t=x(),l=c(O),a=h.useRef(null);return h.useEffect(()=>{const s=o=>{a.current&&!a.current.contains(o.target)&&t(C(""))};return l&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[l,t]),e.jsx("ul",{className:ne.container,ref:a,children:ce.map(s=>e.jsxs("li",{children:[e.jsx(ge,{onClick:()=>t(C(s.query)),isActive:l===s.query,label:s.label}),l===s.query&&e.jsx(pe,{options:s.options,query:s.query})]},s.query))})},ve="_input_11w1h_1",je={input:ve},q=()=>{const t=x(),l=c(z);return e.jsx("input",{onChange:a=>{t(D(a.target.value)),t(k())},value:l,className:je.input,id:"searchbar",type:"text",placeholder:"Поиск"})},_e=()=>e.jsx("header",{className:j.header,children:window.screen.width>=1920?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between w-full mt-4 gap-7",children:[e.jsx("h1",{className:j.title,children:"Список сотрудников"}),e.jsx(E,{})]}),e.jsx(q,{}),e.jsx(N,{})]}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:j.title,children:"Список сотрудников"}),e.jsx(q,{}),e.jsx(E,{}),e.jsx(N,{})]})}),we="_table_1jf3v_1",fe="_headLabels_1jf3v_1",ye="_hoverBg_1jf3v_1",g={table:we,headLabels:fe,hoverBg:ye},ke="_label_1pmux_1",Ce={label:ke},Ne=t=>e.jsx("td",{className:Ce.label,children:t.label}),F=t=>{const{isLast:l,employee:a,id:s}={...t},o=P(),n=c(f),r=c(W),i=c(R),p=x(),d=h.useRef(null),u=c(H),I=()=>{o("/"+Q.employees+"/"+s)},A=h.useCallback(m=>{d.current&&d.current.disconnect(),d.current=new IntersectionObserver(v=>{v[0].isIntersecting&&!r&&!i&&(p(J()),p(y({query:n,page:u+1})))}),m&&d.current.observe(m)},[p,n,r,i,u]);return e.jsx("tr",{onClick:I,className:g.hoverBg,ref:l?A:void 0,children:Object.values(a).map((m,v)=>e.jsx(Ne,{label:m},v))},s)},Le=()=>{const t=c(U);return e.jsxs("table",{className:g.table,children:[e.jsx("thead",{className:g.thead,children:e.jsxs("tr",{className:g.headLabels,children:[e.jsx("th",{className:"text-start  sm:w-[50px] mid:w-[400px] lg:pb-7 lg:w-[724px]",children:"ФИО"}),e.jsx("th",{className:"text-start  lg:pb-7 lg:w-[404px]",children:"Должность"}),e.jsx("th",{className:"text-start lg:pb-7 lg:w-[230px]",children:"Телефон"}),e.jsx("th",{className:"text-start  lg:pb-7 ",children:"Дата рождения"})]})}),e.jsx("tbody",{className:"px-3",children:t.map((l,a)=>{const{id:s,birthdate:o,name:n,phone:r,position:i}={...l};return a===t.length-1?e.jsx(F,{isLast:!0,employee:{name:n,position:i,phone:r,birthdate:o},id:s},l.id):e.jsx(F,{employee:{name:n,position:i,phone:r,birthdate:o},id:s},l.id)})})]})},qe=()=>{const t=G(),l=P(),a=c(f);h.useEffect(()=>{const o=a?`?${a}`:"",n=t.pathname+o;n!==t.pathname+t.search&&l(n,{replace:!0})},[a,t.pathname,l,t.search]);const s=x();return h.useEffect(()=>{s(y({query:a,page:1})),s(S())},[]),e.jsxs("section",{className:"mid:mx-[180px] sm:mx-[24px] px-0 lg:max-w-[1560px] lg:m-auto",children:[e.jsx(_e,{}),e.jsx(Le,{})]})};export{qe as default};

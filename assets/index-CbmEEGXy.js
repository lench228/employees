import{j as e,u as o,s as $,a as y,b as w,c as m,d as M,r as S,g as k,e as O,t as B,f as C,h as j,i as h,k as z,l as N,m as D,n as U,o as P,p as H,q as J,v as Q,R as W,w as I,x as G,y as Z}from"./index-DUiMks6w.js";const K="_header_1gwzu_1",V="_title_1gwzu_1",_={header:K,title:V},X="_container_kp52s_1",Y="_title_kp52s_1",ee="_tags_kp52s_1",se="_tag_kp52s_1",b={container:X,title:Y,tags:ee,tag:se},te="_button_1cnzt_1",ae={button:te},ne=t=>{const{type:a,children:n,onClick:s}={...t};return e.jsx("button",{onClick:s,className:ae.button,type:a,children:n})},L=()=>{const t=o($),a=o(y),n=o(w),s=m(),r=l=>{s(O(l)),s(B(l)),s(C())};return e.jsxs("div",{className:b.container,children:[e.jsx("h2",{className:b.title,children:"Выбранные фильтры:"}),e.jsx("ul",{className:b.tags,children:t.map(l=>l.options.map(c=>e.jsxs("li",{className:b.tag,onClick:()=>r(c),children:[e.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.67824 4.99992L9.85953 0.818698C10.0468 0.631402 10.0468 0.327767 9.85953 0.140471C9.67223 -0.0468238 9.36859 -0.0468238 9.18129 0.140471L5 4.32169L0.818711 0.141111C0.631412 -0.0461846 0.327772 -0.0461846 0.140474 0.141111C-0.0468245 0.328406 -0.0468245 0.632042 0.140474 0.819337L4.32176 5.00056L0.141113 9.18114C-0.0461853 9.36844 -0.0461853 9.67207 0.141113 9.85937C0.235082 9.9527 0.357177 10 0.479912 10C0.602646 10 0.725381 9.95334 0.818711 9.85937L5 5.67815L9.18129 9.85937C9.27526 9.9527 9.39735 10 9.52009 10C9.64282 10 9.76556 9.95334 9.85889 9.85937C10.0462 9.67207 10.0462 9.36844 9.85889 9.18114L5.67824 4.99992Z",fill:"#292929",className:"dark:fill-main-dark transition-colors duration-500 ease-in-out"})}),e.jsx("p",{children:c.label})]},c.value)))}),e.jsx(ne,{onClick:()=>{s(M()),s(S()),n||s(k({query:a,page:1}))},type:"button",children:"Найти"})]})},le="_container_1chln_1",ce={container:le},oe=[{label:"Должность",query:"Position",options:[{value:"Frontend",label:"Frontend-разработчик"},{value:"Backend",label:"Backend-разработчик"},{value:"Analyst",label:"Аналитик"},{value:"Manager",label:"Менеджер"},{value:"Designer",label:"Дизайнер"}]},{label:"Пол",query:"Gender",options:[{value:"Male",label:"Мужчина"},{value:"Female",label:"Женщина"}]},{label:"Стек технологий",query:"Stack",options:[{value:"CSharp",label:"C#"},{value:"React",label:"React"},{value:"Java",label:"Java"},{value:"PHP",label:"PHP"},{value:"Figma",label:"Figma"},{value:"Word",label:"Word"}]}],re="_tooltipContainer_1obre_1",ie="_tooltipItem_1obre_1",de="_label_1obre_1",f={tooltipContainer:re,tooltipItem:ie,label:de},he="_checkbox_1sriy_1",ue={checkbox:he},xe=t=>{const{isActive:a}={...t};return e.jsx("div",{className:j(ue.checkbox,a?"bg-accent":"bg-transparent"),children:a&&e.jsxs("svg",{width:"13",height:"9",viewBox:"0 0 13 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("line",{y1:"-0.5",x2:"8.22439",y2:"-0.5",transform:"matrix(0.729537 0.683941 -0.595228 0.803557 0 4.375)",stroke:"white"}),e.jsx("line",{y1:"-0.5",x2:"11.4018",y2:"-0.5",transform:"matrix(0.613941 -0.789352 0.712652 0.701517 6 10)",stroke:"white"})]})})},me=t=>{var d;const{value:a,label:n,query:s}={...t},l=((d=o($).find(x=>x.query===s))==null?void 0:d.options.some(x=>x.value===a))||!1,c=h.useRef(null),i=m(),u=()=>{i(B({value:a,label:n})),i(C())};return h.useEffect(()=>{},[l,n]),e.jsxs("li",{ref:c,className:f.tooltipItem,id:t.value,onClick:u,children:[e.jsx("label",{className:f.label,htmlFor:a,children:n}),e.jsx(xe,{isActive:l})]},a)},pe=t=>{const{options:a,query:n}={...t};return e.jsx("ul",{className:f.tooltipContainer,children:a.map(s=>e.jsx(me,{...s,query:n},s.value))},`Filter-${n}`)},be="_container_1qw0t_1",ve="_label_1qw0t_1",E={container:be,label:ve},je=t=>{const{label:a,isActive:n,onClick:s}={...t};return e.jsxs("div",{className:E.container,onClick:s,children:[e.jsx("p",{className:j(E.label,n&&"!text-accent font-medium"),children:a}),e.jsx("svg",{className:j(n&&"rotate-180","mid:w-[16px] mid:h-[7px]"),width:"11",height:"6",viewBox:window.screen.width<320?"0 0 11 6":"0 0 16 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M0.5 0.5L4.61616 5.09317C5.10227 5.63561 5.89773 5.63561 6.38384 5.09317L10.5 0.5",stroke:"#155DA4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})})]})},q=()=>{const t=m(),a=o(z),n=h.useRef(null);return h.useEffect(()=>{const s=r=>{n.current&&!n.current.contains(r.target)&&t(N(""))};return a&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[a,t]),e.jsx("ul",{className:ce.container,ref:n,children:oe.map(s=>e.jsxs("li",{children:[e.jsx(je,{onClick:()=>t(N(s.query)),isActive:a===s.query,label:s.label}),a===s.query&&e.jsx(pe,{options:s.options,query:s.query})]},s.query))})},ge="_input_11w1h_1",_e={input:ge},F=()=>{const t=m(),a=o(D);return e.jsx("input",{onChange:n=>{t(U(n.target.value)),t(C())},value:a,className:_e.input,id:"searchbar",type:"text",placeholder:"Поиск"})},fe=()=>e.jsx("header",{className:_.header,children:window.screen.width>=1920?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("h1",{className:_.title,children:"Список сотрудников"}),e.jsx(q,{})]}),e.jsx(F,{}),e.jsx(L,{})]}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:_.title,children:"Список сотрудников"}),e.jsx(F,{}),e.jsx(q,{}),e.jsx(L,{})]})}),ye=t=>e.jsx("td",{className:j("text-main dark:text-main-dark text-xs py-3 sm:min-w-[128px]","first:min-w-[80px] first-w-[80px] first:px-0","transition-colors duration-500 ease-in-out","lg:text-xl  lg:py-7 "),children:t.label}),we="_table_1jf3v_1",ke="_thead_1jf3v_1",Ce="_headLabels_1jf3v_1",Ne="_hoverBg_1jf3v_1",v={table:we,thead:ke,headLabels:Ce,hoverBg:Ne},R=t=>{const{isLast:a,employee:n,id:s}={...t},r=P(),l=o(y),c=o(H),i=o(w),u=m(),d=h.useRef(null),x=o(J),A=()=>{r("/"+W.employees+"/"+s)},T=h.useCallback(p=>{d.current&&d.current.disconnect(),d.current=new IntersectionObserver(g=>{g[0].isIntersecting&&l&&!c&&!i&&(u(Q()),u(k({query:l,page:x+1})))}),p&&d.current.observe(p)},[u,l,c,i,x]);return e.jsx("tr",{onClick:A,className:v.hoverBg,ref:a?T:void 0,children:Object.values(n).map((p,g)=>e.jsx(ye,{label:p},g))},s)},Le=()=>{const t=o(I);return t.length?e.jsxs("table",{className:v.table,children:[e.jsx("thead",{className:v.thead,children:e.jsxs("tr",{className:v.headLabels,children:[e.jsx("th",{className:"text-start  lg:pb-7",children:"ФИО"}),e.jsx("th",{className:"text-start  lg:pb-7",children:"Должность"}),e.jsx("th",{className:"text-start  lg:pb-7",children:"Телефон"}),e.jsx("th",{className:"text-start  lg:pb-7",children:"Дата рождения"})]})}),e.jsx("tbody",{children:t.map((a,n)=>{const{id:s,birthdate:r,name:l,phone:c,position:i}={...a};return n===t.length-1?e.jsx(R,{isLast:!0,employee:{name:l,position:i,phone:c,birthdate:r},id:s},a.id):e.jsx(R,{employee:{name:l,position:i,phone:c,birthdate:r},id:s},a.id)})})]}):e.jsx("div",{className:"text-center my-auto text-3xl dark:text-main-dark",children:"Сотрудники не найдены"})},qe=()=>{const t=G(),a=P(),n=o(y),s=o(w),r=h.useCallback(()=>{const u=n?`?${n}`:"",d=t.pathname+u;d!==t.pathname+t.search&&a(d,{replace:!0})},[n,t.pathname,a,t.search]);h.useEffect(()=>{r()},[r]);const l=o(I,Z),c=m(),i=h.useMemo(()=>()=>c(k({query:n,page:1})),[c,n]);return h.useEffect(()=>(!l.length&&!s&&i(),()=>{c(S())}),[l.length,i,s]),e.jsxs("section",{children:[e.jsx(fe,{}),e.jsx(Le,{})]})};export{qe as default};
